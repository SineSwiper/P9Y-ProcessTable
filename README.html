<html><head><title>P9Y::ProcessTable</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.22,
  using Pod::Simple::PullParser v3.22,
  under Perl v5.014002 at Fri Jun 14 17:07:30 2013 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u'
name="NAME"
>NAME</a></h1>

<p>P9Y::ProcessTable - Portably access the process table</p>

<h1><a class='u'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use P9Y::ProcessTable;
 
    my @process_table = P9Y::ProcessTable-&#62;table;
    print $process_table[0]-&#62;pid.&#34;\n&#34;;
 
    my @pids = P9Y::ProcessTable-&#62;list;
 
    my $perl_process  = P9Y::ProcessTable-&#62;process;
    my $other_process = P9Y::ProcessTable-&#62;process($pids[0]);
 
    if ($other_process-&#62;has_threads) {
       print &#34;# of Threads: &#34;.$other_process-&#62;threads.&#34;\n&#34;;
       sleep 2;
       $other_process-&#62;refresh;
       print &#34;# of Threads: &#34;.$other_process-&#62;threads.&#34;\n&#34;;
    }
 
    # A cheap and sleazy version of ps
    my $FORMAT = &#34;%-6s %-10s %-8s %-24s %s\n&#34;;
    printf($FORMAT, &#34;PID&#34;, &#34;TTY&#34;, &#34;STAT&#34;, &#34;START&#34;, &#34;COMMAND&#34;);
    foreach my $p ( P9Y::ProcessTable-&#62;table ) {
       printf($FORMAT,
          $p-&#62;pid,
          $p-&#62;ttydev,
          $p-&#62;state,
          scalar(localtime($p-&#62;start)),
          $p-&#62;cmdline,
       );
    }
 
    # Dump all the information in the current process table
    foreach my $p ( P9Y::ProcessTable-&#62;table ) {
       print &#34;--------------------------------\n&#34;;
       foreach my $f (P9Y::ProcessTable-&#62;fields) {
          my $has_f = &#39;has_&#39;.$f;
          print $f, &#34;:  &#34;, $p-&#62;$f(), &#34;\n&#34; if ( $p-&#62;$has_f() );
       }
    }</pre>

<h1><a class='u'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This interface will portably access the process table, no matter what the OS, and normalize its outputs to work similar across all platforms.</p>

<h1><a class='u'
name="METHODS"
>METHODS</a></h1>

<p>All methods to this module are actually class-based (objectless) calls. However, the <a href="http://search.cpan.org/perldoc?P9Y%3A%3AProcessTable%3A%3AProcess" class="podlinkpod"
>P9Y::ProcessTable::Process</a> returns are actual objects.</p>

<h2><a class='u'
name="fields"
>fields</a></h2>

<p>Returns a list of the field names supported by the module on the current architecture.</p>

<h2><a class='u'
name="list"
>list</a></h2>

<p>Returns a list of PIDs that are available in the process table. On most systems, this is a less heavy call than <code>table</code>, as it doesn&#39;t have to look up the information for every single process.</p>

<h2><a class='u'
name="table"
>table</a></h2>

<p>Returns a list of <a href="http://search.cpan.org/perldoc?P9Y%3A%3AProcessTable%3A%3AProcess" class="podlinkpod"
>P9Y::ProcessTable::Process</a> objects for all of the processes in the process table. (More information in that module POD.)</p>

<h2><a class='u'
name="process"
>process</a></h2>

<p>Returns a <a href="http://search.cpan.org/perldoc?P9Y%3A%3AProcessTable%3A%3AProcess" class="podlinkpod"
>P9Y::ProcessTable::Process</a> object for the process specified. If a process isn&#39;t specified, it will look up <code>$$</code> (or its platform equivalent).</p>

<h1><a class='u'
name="P9Y?"
>P9Y?</a></h1>

<p>Portability. You know, like I18N and L10N.</p>

<h1><a class='u'
name="SUPPORTED_PLATFORMS"
>SUPPORTED PLATFORMS</a></h1>

<p>Currently, this module supports:</p>

<ul>
<li>All <code>/proc</code> friendly OSs to some degree. Linux, Solaris, and most <code>/proc</code> friendly BSD-variants are fully supported so far.</li>

<li>Windows (most flavors)</li>

<li>Darwin (see CAVEATS)</li>

<li>FreeBSD (only; see CAVEATS)</li>

<li>OS/2 (hey, the module was there...)</li>

<li>VMS (same here; probably needs some testing)</li>
</ul>

<h1><a class='u'
name="HISTORY"
>HISTORY</a></h1>

<p>This module spawned because <a href="http://search.cpan.org/perldoc?Proc%3A%3AProcessTable" class="podlinkpod"
>Proc::ProcessTable</a> has fallen into <a href="http://matrix.cpantesters.org/?dist=Proc-ProcessTable-0.45" class="podlinkurl"
>bugland</a> for the last 4 years, and many people just want to be able to get a simple <code>PID+cmdline</code> from the process table. While this module offers more than that as a bonus, the goal of this module is to have something that JFW, and continues to JFW.</p>

<p>With that in mind, here my list of what went wrong with <a href="http://search.cpan.org/perldoc?Proc%3A%3AProcessTable" class="podlinkpod"
>Proc::ProcessTable</a>. I have nothing against the authors of that module, but I feel like we should try to learn from our failures and adapt in kind.</p>

<ul>
<li><b>Too many OSs in one distribution.</b> I dunno about you, but I don&#39;t happen to have 15 different OSs on VMs anywhere. At best, I might have access to 2-3 different platforms. So, trying to test out code on a platform that you don&#39;t actually own is especially difficult.
<p>Thus, this module is merely a wrapper around various other modules that provide process table information. Those guys actually have the means (and the drive) to test their stuff on those OSs. (The sole exception is the ProcFS module, but that may get split eventually.)</p>
</li>
</ul>

<ul>
<li><b>Too much C/XS code.</b> The C and XS code falls in a class of exclusivity that makes it even harder to maintain. If I were to conjure up some wild guess, I would say that only 20% of Perl programmers could actually read, understand, and program C/XS code. People aren&#39;t calling the process table a 1000 times a second, so there&#39;s really no need for a speed boost, either.
<p>Alas, sometimes this is unavoidable, with the process information buried in C library calls. However, the <code>/proc</code> FS is available on a great many amount of UNIX platforms, so it should be used <i>as much as possible</i>. Also, I take this moment to shake my tiny little fist at the BSD folks for actually <b>regressing</b> the OS by removing support for <code>/proc</code>. All of the reasons behind it are unsound or have solutions that don&#39;t involve removing this most basic right of UNIX users.</p>
</li>
</ul>

<h1><a class='u'
name="CAVEATS_/_TODO"
>CAVEATS / TODO</a></h1>

<ul>
<li>No support for any non-proc BSD system other than FreeBSD. This is because <a href="http://search.cpan.org/perldoc?BSD%3A%3AProcess" class="podlinkpod"
>BSD::Process</a> only supports FreeBSD. If the support is needed, bug that module maintainer and provide some patches. Then bug me and I&#39;ll change the OS detection logic.</li>
</ul>

<ul>
<li>This thing actually uses <a href="http://search.cpan.org/perldoc?Proc%3A%3AProcessTable" class="podlinkpod"
>Proc::ProcessTable</a> for any system that isn&#39;t in the list and doesn&#39;t have <code>/proc</code>, including Darwin/OSX systems. Fortunately, P:PT is passing all Darwin tests (so far), so until somebody splits the code from that to a new module (hint hint)... And fortunately, P:PT gained a non-broken release.</li>
</ul>

<ul>
<li>Certain other <code>/proc</code> friendly OSs needs further support. Frankly, I&#39;m trying to get a feel for what people actually need than just spending the time coding something for, say, NeXT OS and 50 other flavors. However, supporting one OS or another should be pretty easy. If you need support, dive into the <code>ProcFS</code> code and submit a patch.</li>
</ul>

<ul>
<li>One would say that the class-based calling of ProcessTable (vs. the more traditional OO model of P9Y:PT:Process) is confusing. I tend to agree, but it was modeled after Proc:PT&#39;s calling scheme.</li>
</ul>

<ul>
<li>See <a href="http://search.cpan.org/perldoc?P9Y%3A%3AProcessTable%3A%3AProcess" class="podlinkpod"
>P9Y::ProcessTable::Process</a> for other caveats.</li>
</ul>

<h1><a class='u'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<ul>
<li><a href="http://search.cpan.org/perldoc?Proc%3A%3AProcessTable" class="podlinkpod"
>Proc::ProcessTable</a></li>

<li><a href="http://search.cpan.org/perldoc?BSD%3A%3AProcess" class="podlinkpod"
>BSD::Process</a></li>

<li><a href="http://search.cpan.org/perldoc?Win32%3A%3AProcess%3A%3AInfo" class="podlinkpod"
>Win32::Process::Info</a> &#38; <a href="http://search.cpan.org/perldoc?Win32%3A%3AProcess" class="podlinkpod"
>Win32::Process</a></li>

<li><a href="http://search.cpan.org/perldoc?OS2%3A%3AProcess" class="podlinkpod"
>OS2::Process</a></li>

<li><a href="http://search.cpan.org/perldoc?VMS%3A%3AProcess" class="podlinkpod"
>VMS::Process</a></li>
</ul>

<h1><a class='u'
name="AVAILABILITY"
>AVAILABILITY</a></h1>

<p>The project homepage is <a href="https://github.com/SineSwiper/P9Y-ProcessTable/wiki" class="podlinkurl"
>https://github.com/SineSwiper/P9Y-ProcessTable/wiki</a>.</p>

<p>The latest version of this module is available from the Comprehensive Perl Archive Network (CPAN). Visit <a href="http://www.perl.com/CPAN/" class="podlinkurl"
>http://www.perl.com/CPAN/</a> to find a CPAN site near you, or see <a href="https://metacpan.org/module/P9Y::ProcessTable/" class="podlinkurl"
>https://metacpan.org/module/P9Y::ProcessTable/</a>.</p>

<h1><a class='u'
name="SUPPORT"
>SUPPORT</a></h1>

<h2><a class='u'
name="Internet_Relay_Chat"
>Internet Relay Chat</a></h2>

<p>You can get live help by using IRC ( Internet Relay Chat ). If you don&#39;t know what IRC is, please read this excellent guide: <a href="http://en.wikipedia.org/wiki/Internet_Relay_Chat" class="podlinkurl"
>http://en.wikipedia.org/wiki/Internet_Relay_Chat</a>. Please be courteous and patient when talking to us, as we might be busy or sleeping! You can join those networks/channels and get help:</p>

<ul>
<li>irc.perl.org
<p>You can connect to the server at &#39;irc.perl.org&#39; and talk to this person for help: SineSwiper.</p>
</li>
</ul>

<h2><a class='u'
name="Bugs_/_Feature_Requests"
>Bugs / Feature Requests</a></h2>

<p>Please report any bugs or feature requests via <a href="https://github.com/SineSwiper/P9Y-ProcessTable/issues" class="podlinkurl"
>https://github.com/SineSwiper/P9Y-ProcessTable/issues</a>.</p>

<h1><a class='u'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Brendan Byrd &#60;bbyrd@cpan.org&#62;</p>

<h1><a class='u'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<ul>
<li>Brendan Byrd &#60;GitHub@ResonatorSoft.org&#62;</li>

<li>Brendan Byrd &#60;Perl@ResonatorSoft.org&#62;</li>

<li>Chris &#39;BinGOs&#39; Williams &#60;chris@bingosnet.co.uk&#62;</li>

<li>Mithun Ayachit &#60;m0t0rbr3th@gmail.com&#62;</li>

<li>Mithun Ayachit &#60;mayachit@amfam.com&#62;</li>
</ul>

<h1><a class='u'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is Copyright (c) 2013 by Brendan Byrd.</p>

<p>This is free software, licensed under:</p>

<pre>  The Artistic License 2.0 (GPL Compatible)</pre>

<!-- end doc -->

</body></html>
